name: "[State Machine] - Testing orquestrator"

on:
  push:
    branches: [ "*" ]

env:
  SFN: aws stepfunctions --endpoint-url http://localhost:8083


jobs:
  test-sfn:
    runs-on: ubuntu-latest
    container:
      image: amazon/aws-stepfunctions-local:latest
      options: --user root

    steps:
      - name: Update and Install Dependencies
        run: |
          yum update -y
          yum install -y tar
        shell: bash

      - name: Checkout repository files
        uses: actions/checkout@v3

      - name: Check Step files
        run: ls -la
      
      - name: Testing Step Function Local
        run: $SFN list-executions
      
